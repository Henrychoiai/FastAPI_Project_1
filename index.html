<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 수학 튜터 - 같이 풀어봐요!</title>
    <!-- 4) 프로젝트 폴더 구조 생성 (CSS 파일 분리) -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- 헤더 -->
        <div class="header">
            <h1>🧮 AI 수학 튜터</h1>
            <p class="subtitle">같이 한 단계씩 풀어보며 배워요!</p>
        </div>

        <!-- 4) 첫 화면 상단에 표시할 안내 문구 -->
        <div class="welcome-message">
            "제가 직접 답을 바로 알려주지는 않고 같이 한 단계씩 풀어보면서 이해할 수 있도록 안내할게요!"
        </div>

        <!-- 사용자 정보 표시 -->
        <div class="user-info" id="userInfo">
            <span id="welcomeUser">환영합니다!</span>
            <button class="logout-btn" onclick="logout()">로그아웃</button>
        </div>

        <!-- 9) 회원가입/로그인 폼 -->
        <div class="auth-section" id="authSection">
            <!-- 로그인 폼 -->
            <div class="auth-form">
                <h3>로그인</h3>
                <div class="form-group">
                    <label>사용자명</label>
                    <input type="text" id="loginUsername" placeholder="사용자명을 입력하세요">
                </div>
                <div class="form-group">
                    <label>비밀번호</label>
                    <input type="password" id="loginPassword" placeholder="비밀번호를 입력하세요">
                </div>
                <button class="btn" onclick="login()">로그인</button>
            </div>

            <!-- 회원가입 폼 -->
            <div class="auth-form">
                <h3>회원가입</h3>
                <div class="form-group">
                    <label>사용자명</label>
                    <input type="text" id="registerUsername" placeholder="사용자명 (3-50자)">
                </div>
                <div class="form-group">
                    <label>이메일</label>
                    <input type="email" id="registerEmail" placeholder="이메일 주소">
                </div>
                <div class="form-group">
                    <label>비밀번호</label>
                    <input type="password" id="registerPassword" placeholder="비밀번호 (6자 이상)">
                </div>
                <button class="btn" onclick="register()">회원가입</button>
            </div>
        </div>

        <!-- 4) '2025년 수능 기출문제' 버튼 -->
        <button class="exam-button hidden" id="examButton" onclick="showExamPrompt()">
            📚 2025년 수능 기출문제
        </button>

        <!-- 8) 채팅 인터페이스 -->
        <div class="chat-container" id="chatContainer">
            <div class="chat-messages" id="chatMessages">
                <!-- 메시지들이 여기에 동적으로 추가됩니다 -->
            </div>
            
            <!-- 8) 로딩 상태 표시 -->
            <div class="loading" id="loadingIndicator">
                <div class="loading-spinner"></div>
                <span>AI가 답변을 생각하고 있어요...</span>
            </div>
            
            <div class="chat-input-container">
                <!-- 4) 텍스트 입력, 사진 업로드 두가지 방법 -->
                <div class="input-group">
                    <textarea 
                        id="chatInput" 
                        class="chat-input" 
                        placeholder="수학 문제 또는 수학 관련 질문을 입력하세요!"
                        rows="1"
                    ></textarea>
                    <!-- 1) 전송 버튼 클릭, Enter키 입력 두 가지 방식 -->
                    <button class="send-btn" id="sendBtn" onclick="sendMessage()">🚀</button>
                </div>
                
                <!-- 4) 사진 업로드 기능 - 버튼명 수정 -->
                <div class="file-upload">
                    <input type="file" id="imageUpload" accept="image/*" onchange="handleImageUpload()">
                    <label for="imageUpload">📷 수학문제 촬영하여 질문하기</label>
                </div>
            </div>
        </div>

        <!-- 에러 메시지 표시 영역 -->
        <div id="errorMessage" class="error-message hidden"></div>
    </div>

    <!-- 4) JavaScript 파일 분리 -->
    <script src="script.js"></script>
</body>
</html>